<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Generator__Wall (dometyl.Generator__Wall)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">dometyl</a> &#x00BB; Generator__Wall</nav><h1>Module <code>Generator__Wall</code></h1></header><dl><dt class="spec module" id="module-Steps"><a href="#module-Steps" class="anchor"></a><code><span class="keyword">module</span> <a href="Steps/index.html">Steps</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Configuration type for number of steps used to draw the bezier curves that form the walls.</p></dd></dl><dl><dt class="spec module" id="module-Edge"><a href="#module-Edge" class="anchor"></a><code><span class="keyword">module</span> <a href="Edge/index.html">Edge</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Bezier curve wall edge type and helpers.</p></dd></dl><dl><dt class="spec module" id="module-EdgeDrawer"><a href="#module-EdgeDrawer" class="anchor"></a><code><span class="keyword">module</span> <a href="EdgeDrawer/index.html">EdgeDrawer</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Functions that find the point along the top and bottom edges of the start position of the wall closest to the given xy position, and provides a bezier edge to the ground starting from there.</p></dd></dl><dl><dt class="spec module" id="module-Edges"><a href="#module-Edges" class="anchor"></a><code><span class="keyword">module</span> <a href="Edges/index.html">Edges</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Bezier curves representing the four edges running from the start to the foot of each <span class="xref-unresolved" title="unresolved reference to &quot;Wall.t&quot;"><code>Wall</code>.t</span></p></dd></dl><dl><dt class="spec type" id="type-config"><a href="#type-config" class="anchor"></a><code><span class="keyword">type</span> config</code><code> = </code><code>{</code><table class="record"><tr id="type-config.d1" class="anchored"><td class="def field"><a href="#type-config.d1" class="anchor"></a><code>d1 : Base.float;</code></td></tr><tr id="type-config.d2" class="anchored"><td class="def field"><a href="#type-config.d2" class="anchor"></a><code>d2 : Base.float;</code></td></tr><tr id="type-config.z_off" class="anchored"><td class="def field"><a href="#type-config.z_off" class="anchor"></a><code>z_off : Base.float;</code></td></tr><tr id="type-config.thickness" class="anchored"><td class="def field"><a href="#type-config.thickness" class="anchor"></a><code>thickness : Base.float;</code></td></tr><tr id="type-config.clearance" class="anchored"><td class="def field"><a href="#type-config.clearance" class="anchor"></a><code>clearance : Base.float;</code></td></tr><tr id="type-config.n_steps" class="anchored"><td class="def field"><a href="#type-config.n_steps" class="anchor"></a><code>n_steps : <a href="Steps/index.html#type-t">Steps.t</a>;</code></td></tr><tr id="type-config.n_facets" class="anchored"><td class="def field"><a href="#type-config.n_facets" class="anchor"></a><code>n_facets : Base.int;</code></td></tr><tr id="type-config.eyelet_config" class="anchored"><td class="def field"><a href="#type-config.eyelet_config" class="anchor"></a><code>eyelet_config : <span><a href="../Generator/Eyelet/index.html#type-config">Generator.Eyelet.config</a> Base.option</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-default"><a href="#val-default" class="anchor"></a><code><span class="keyword">val</span> default : <a href="index.html#type-config">config</a></code></dt></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.scad" class="anchored"><td class="def field"><a href="#type-t.scad" class="anchor"></a><code>scad : Scad_ml.Scad.d3;</code></td><td class="doc"><p>Aggregate scad, including screw outshoot if included</p></td></tr><tr id="type-t.start" class="anchored"><td class="def field"><a href="#type-t.start" class="anchor"></a><code>start : <a href="../Generator/Points/index.html#type-t">Generator.Points.t</a>;</code></td><td class="doc"><p>Corner points of the <span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face.t&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face&quot;"><code>KeyHole</code>.Face</span>.t</span> this wall emerged from</p></td></tr><tr id="type-t.foot" class="anchored"><td class="def field"><a href="#type-t.foot" class="anchor"></a><code>foot : <a href="../Generator/Points/index.html#type-t">Generator.Points.t</a>;</code></td><td class="doc"><p>Terminal points where the wall meets the XY plane.</p></td></tr><tr id="type-t.edge_drawer" class="anchored"><td class="def field"><a href="#type-t.edge_drawer" class="anchor"></a><code>edge_drawer : <a href="EdgeDrawer/index.html#type-t">EdgeDrawer.t</a>;</code></td><td class="doc"><p>Generate <a href="Edge/index.html#type-t"><code>Edge.t</code></a>'s emerging from point along top and bottom starting edges of the wall closest to the provided <span class="xref-unresolved" title="unresolved reference to &quot;Vec3.t&quot;"><code>Vec3</code>.t</span> on the XY plane.</p></td></tr><tr id="type-t.edges" class="anchored"><td class="def field"><a href="#type-t.edges" class="anchor"></a><code>edges : <a href="Edges/index.html#type-t">Edges.t</a>;</code></td><td class="doc"><p>Bezier curves that specify the edge vertices.</p></td></tr><tr id="type-t.screw" class="anchored"><td class="def field"><a href="#type-t.screw" class="anchor"></a><code>screw : <span><a href="../Generator/Eyelet/index.html#type-t">Generator.Eyelet.t</a> Base.option</span>;</code></td><td class="doc"><p>Scad, coordinates, and config of screw offshoot if included.</p></td></tr></table><code>}</code></dt><dd><p>Record representing a wall extending from a <span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face.t&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face&quot;"><code>KeyHole</code>.Face</span>.t</span> to the ground.</p></dd></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-translate"><a href="#val-translate" class="anchor"></a><code><span class="keyword">val</span> translate : Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-scale"><a href="#val-scale" class="anchor"></a><code><span class="keyword">val</span> scale : Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-rotate"><a href="#val-rotate" class="anchor"></a><code><span class="keyword">val</span> rotate : Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-rotate_about_pt"><a href="#val-rotate_about_pt" class="anchor"></a><code><span class="keyword">val</span> rotate_about_pt : Scad_ml.Vec3.t <span>&#45;&gt;</span> Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-quaternion"><a href="#val-quaternion" class="anchor"></a><code><span class="keyword">val</span> quaternion : Scad_ml.Quaternion.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-quaternion_about_pt"><a href="#val-quaternion_about_pt" class="anchor"></a><code><span class="keyword">val</span> quaternion_about_pt : Scad_ml.Quaternion.t <span>&#45;&gt;</span> Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-mirror"><a href="#val-mirror" class="anchor"></a><code><span class="keyword">val</span> mirror : Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></div></div></div><dl><dt class="spec value" id="val-swing_face"><a href="#val-swing_face" class="anchor"></a><code><span class="keyword">val</span> swing_face : <span>?&#8288;step:Base.float</span> <span>&#45;&gt;</span> Scad_ml.Vec3.t <span>&#45;&gt;</span> <a href="../Generator/KeyHole/Face/index.html#type-t">Generator.KeyHole.Face.t</a> <span>&#45;&gt;</span> <a href="../Generator/KeyHole/Face/index.html#type-t">Generator.KeyHole.Face.t</a> * Scad_ml.Vec3.t</code></dt><dd><p><code>swing_face ?step key_orgin face</code></p><p>Iteratively find a rotation around <code>face</code>s bottom or top axis, depending on which way it is pointing in z (determined with <code>key_origin</code>), that brings <code>face</code> to a more vertical orientation, returning a pivoted <span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face.t&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.Face&quot;"><code>KeyHole</code>.Face</span>.t</span> and it's new orthogonal <span class="xref-unresolved" title="unresolved reference to &quot;Vec3.t&quot;"><code>Vec3</code>.t</span>.</p></dd></dl><dl><dt class="spec value" id="val-poly_siding"><a href="#val-poly_siding" class="anchor"></a><code><span class="keyword">val</span> poly_siding : <span>?&#8288;x_off:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;y_off:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;z_off:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;clearance:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;n_steps:<span>[&lt; <span>`Flat of Base.int</span> <span><span>| `PerZ</span> of Base.float</span> Flat ]</span></span> <span>&#45;&gt;</span> <span>?&#8288;n_facets:Base.int</span> <span>&#45;&gt;</span> <span>?&#8288;d1:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;d2:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;thickness:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;eyelet_config:<a href="../Generator/Eyelet/index.html#type-config">Generator.Eyelet.config</a></span> <span>&#45;&gt;</span> <span>[&lt; `East <span>| `North</span> <span>| `South</span> <span>| `West</span> ]</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Generator/KeyHole/index.html#type-t">Generator.KeyHole.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>poly_siding ?x_off ?y_off ?z_off ?clearance ?n_steps ?n_facets ?d1 ?d2 ?thickness
      ?eyelet_config side keyhole</code></p><p>Generate a <a href="index.html#type-t"><code>t</code></a> using an OpenScad polyhedron, drawn from a set of bezier curves from the <code>side</code> facing edges of <code>keyhole</code>. Optional parameters influence the shape of the generated wall:</p><ul><li><code>x_off</code> and <code>y_off</code> shift the target endpoints (on the ground) of the wall</li><li><code>z_off</code> shifts the second bezier control point in z (positive would lead to more arc)</li><li><code>clearance</code> moves the start of the wall out from the face of the keyhole</li><li><code>n_steps</code> controls the number of points used to draw the wall (see: <a href="Steps/index.html"><code>Steps</code></a>). This impact the aeshetics of the wall, but it also determines how well the wall follows the bezier curve, which can have implications for positioning the cutouts for ports near the bottom of the case. A number of steps that is too high can sometimes cause the generated polyhedrons to fail, as points can bunch up, leading to a mesh that is difficult for the OpenScad engine (CGAL) to close. When this happens, either decreasing number of steps (can be done preferentially for short walls with `PerZ), or increasing <code>n_facets</code> to increase the number of (and decrease the size of) triangles that CGAL can use to close the wall shape.</li><li><code>n_facets</code> sets the number of polyhedron faces assigned to the outside and inside of the wall. Values above one will introduce additional beziers of vertices spaced between the ends of the wall, leading to a finer triangular mesh.</li><li><code>d1</code> and <code>d2</code> set the distance projected outward along the orthogonal of the <code>side</code> of the <code>keyhole</code> on the xy-plane used to for the second and third quadratic bezier control points respectively.</li><li><code>thickness</code> influences the thickness of the wall (from inside to outside face)</li><li>If provided, <code>eyelet_config</code> describes the screw/bumpon eyelet that should be added to the bottom of the generated wall.</li></ul></dd></dl><dl><dt class="spec value" id="val-poly_of_config"><a href="#val-poly_of_config" class="anchor"></a><code><span class="keyword">val</span> poly_of_config : <span>?&#8288;x_off:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;y_off:Base.float</span> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <span>[&lt; `East <span>| `North</span> <span>| `South</span> <span>| `West</span> ]</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Generator/KeyHole/index.html#type-t">Generator.KeyHole.t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-column_drop"><a href="#val-column_drop" class="anchor"></a><code><span class="keyword">val</span> column_drop : <span>?&#8288;z_off:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;clearance:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;n_steps:<span>[&lt; <span>`Flat of Base.int</span> <span><span>| `PerZ</span> of Base.float</span> Flat ]</span></span> <span>&#45;&gt;</span> <span>?&#8288;n_facets:Base.int</span> <span>&#45;&gt;</span> <span>?&#8288;d1:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;d2:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;thickness:Base.float</span> <span>&#45;&gt;</span> <span>?&#8288;eyelet_config:<a href="../Generator/Eyelet/index.html#type-config">Generator.Eyelet.config</a></span> <span>&#45;&gt;</span> <span>spacing:Base.float</span> <span>&#45;&gt;</span> <span>columns:<span><span class="type-var">'k</span> <a href="../Generator/Columns/index.html#type-t">Generator.Columns.t</a></span></span> <span>&#45;&gt;</span> <span>[&lt; `North <span>| `South</span> ]</span> <span>&#45;&gt;</span> Base.int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>column_drop ?z_off ?clearance ?n_steps ?n_facets ?d1 ?d2 ?thickness ?eyelet_config
      ~spacing ~columns idx</code></p><p>Wrapper function for <a href="index.html#val-poly_siding"><code>poly_siding</code></a> specifically for (north and south) column end walls. Unlike <a href="index.html#val-poly_siding"><code>poly_siding</code></a>, which takes a <span class="xref-unresolved" title="unresolved reference to &quot;KeyHole.t&quot;"><code>KeyHole</code>.t</span>, this takes the map <code>columns</code>, and an <code>idx</code> specifying the column to generate the wall for. Overhang over the next column (to the right) that may have been introduced by tenting is checked for, and an x offset that will reclaim the desired column <code>spacing</code> is calculated and passed along to <a href="index.html#val-poly_siding"><code>poly_siding</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-drop_of_config"><a href="#val-drop_of_config" class="anchor"></a><code><span class="keyword">val</span> drop_of_config : <span>spacing:Base.float</span> <span>&#45;&gt;</span> <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> <span>columns:<span><span class="type-var">'k</span> <a href="../Generator/Columns/index.html#type-t">Generator.Columns.t</a></span></span> <span>&#45;&gt;</span> <span>[&lt; `North <span>| `South</span> ]</span> <span>&#45;&gt;</span> Base.int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-start_direction"><a href="#val-start_direction" class="anchor"></a><code><span class="keyword">val</span> start_direction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Scad_ml.Vec3.t</code></dt><dd><p><code>start_direction t</code></p><p>Direction vector from right to left of the wall start points.</p></dd></dl><dl><dt class="spec value" id="val-foot_direction"><a href="#val-foot_direction" class="anchor"></a><code><span class="keyword">val</span> foot_direction : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Scad_ml.Vec3.t</code></dt><dd><p><code>foot_direction t</code></p><p>Direction vector from right to left of the wall foot points.</p></dd></dl><dl><dt class="spec value" id="val-to_scad"><a href="#val-to_scad" class="anchor"></a><code><span class="keyword">val</span> to_scad : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> Scad_ml.Scad.d3</code></dt></dl></div></body></html>